{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nloader.style.display = 'none';\n\nform.addEventListener('submit', e => {\n    e.preventDefault();\n    const name = e.target.elements.input.value;\n\n    createGallery(name);\n    form.reset();\n});\n\nfunction createGallery(searchValue) {\n\n    const params = {\n        key: '42343629-db0a88f68e5938b107ae69266',\n        q: `${searchValue.trim()}`\n            .split(' ')\n            .map(value => {\n                return value.toLowerCase().trim();\n            })\n            .join('+'),\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    };\n    const url = `https://pixabay.com/api/?key=${params.key}&q=${params.q}&image-type=${params.image_type}&orientation=${params.orientation}&safesearch=${params.safesearch}`;\n\n    loader.style.display = 'block';\n\n    return fetch(url)\n        .then(res => res.json())\n        .then(result => {\n            if (result.hits.length === 0) {\n                loader.style.display = 'none';\n                gallery.innerHTML = '';\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n            } else {\n                loader.style.display = 'none';\n                const markup = result.hits\n                    .map(image => {\n                        return `<li class=\"item\"> <a class=\"gallery-item\" href=\"${image.largeImageURL}\">\n                            <img class=\"gallery-image\"\n                            src=\"${image.webformatURL}\"\n                            alt=\"${image.tags}\"/>\n                        </a>\n                        <ul class=\"descr\">\n                        <li class=\"descr-item\"><p class=\"descr-title\">Likes<span class=\"descr-value\">${image.likes}</span></p></li>\n                        <li class=\"descr-item\"><p class=\"descr-title\">Views<span class=\"descr-value\"> ${image.views}</span></p></li>\n                        <li class=\"descr-item\"><p class=\"descr-title\">Comments<span class=\"descr-value\"> ${image.comments}</span></p></li>\n                        <li class=\"descr-item\"><p class=\"descr-title\">Downloads<span class=\"descr-value\"> ${image.downloads}</span></p></li>\n                        </ul>\n                        </li>`;\n                    })\n                    .join('');\n                gallery.innerHTML = markup;\n            }\n            const lightbox = new SimpleLightbox('.gallery a', {\n                captionsData: 'alt',\n                captionDelay: 250,\n            });\n            lightbox.refresh();\n        })\n        .catch(error => {\n            console.log(error);\n        });\n}\n\n\n\n"],"names":["form","gallery","loader","e","name","createGallery","searchValue","params","value","url","res","result","iziToast","markup","image","SimpleLightbox","error"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OAEvBF,EAAK,iBAAiB,SAAUG,GAAK,CACjCA,EAAE,eAAc,EAChB,MAAMC,EAAOD,EAAE,OAAO,SAAS,MAAM,MAErCE,EAAcD,CAAI,EAClBJ,EAAK,MAAK,CACd,CAAC,EAED,SAASK,EAAcC,EAAa,CAEhC,MAAMC,EAAS,CACX,IAAK,qCACL,EAAG,GAAGD,EAAY,KAAM,CAAA,GACnB,MAAM,GAAG,EACT,IAAIE,GACMA,EAAM,cAAc,MAC9B,EACA,KAAK,GAAG,EACb,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,EACUC,EAAM,gCAAgCF,EAAO,GAAG,MAAMA,EAAO,CAAC,eAAeA,EAAO,UAAU,gBAAgBA,EAAO,WAAW,eAAeA,EAAO,UAAU,GAEtK,OAAAL,EAAO,MAAM,QAAU,QAEhB,MAAMO,CAAG,EACX,KAAKC,GAAOA,EAAI,MAAM,EACtB,KAAKC,GAAU,CACZ,GAAIA,EAAO,KAAK,SAAW,EACvBT,EAAO,MAAM,QAAU,OACvBD,EAAQ,UAAY,GACpBW,EAAS,MAAM,CACX,QAAS,0EAC7B,CAAiB,MACE,CACHV,EAAO,MAAM,QAAU,OACvB,MAAMW,EAASF,EAAO,KACjB,IAAIG,GACM,mDAAmDA,EAAM,aAAa;AAAA;AAAA,mCAElEA,EAAM,YAAY;AAAA,mCAClBA,EAAM,IAAI;AAAA;AAAA;AAAA,uGAG0DA,EAAM,KAAK;AAAA,wGACVA,EAAM,KAAK;AAAA,2GACRA,EAAM,QAAQ;AAAA,4GACbA,EAAM,SAAS;AAAA;AAAA,8BAGtG,EACA,KAAK,EAAE,EACZb,EAAQ,UAAYY,CACvB,CACgB,IAAIE,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAC9B,CAAa,EACQ,QAAO,CAC5B,CAAS,EACA,MAAMC,GAAS,CACZ,QAAQ,IAAIA,CAAK,CAC7B,CAAS,CACT"}